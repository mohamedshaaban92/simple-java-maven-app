pipeline {
  agent any
  parameters {
    booleanParam(defaultValue: false, description: 'Do you agree with the policies ?', name: 'acceptPolicies')
    string(defaultValue: "", description: "The required value to be selected", name: "vmname")
    choice(name: 'Environment', choices: ['PROD', 'STG', 'DEV'], description: 'select the required environment') 
  }
  stages {
    stage ("select required environemt"){
      steps {
          echo "The selected environment is ${params.Environment}"
      } 
         }

      stage ("Enter the required vm name "){
         steps {
           echo "The selected value is ${params.vmname}"
      } 
         }
         
      stage ("Echo parameter value"){
        steps {
          echo "Click accept policies  ${params.acceptPolicies}"
      } 
         }

    stage ("Display hostname"){
      steps {
          sh "hostname"
      } 
         }
    stage ("Clean up") {
      steps {
            deleteDir()
        }
      }
      stage ("Clone Repo"){
        steps{
            sh "git clone https://github.com/jenkins-docs/simple-java-maven-app.git"
        }
      }
      
    }
    post {
        success {
          echo "Job successed"
        }
        failure {
          echo "Job failed"
        }
      }
  }
