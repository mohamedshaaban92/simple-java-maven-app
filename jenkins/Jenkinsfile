pipeline {
  agent any
  parameters {
    booleanparam{defaultValue: "false", description: "value of boolean parameter", name:"myBoolean"},
    string{defaultValue: "Test value", description: "The required value to be selected", name:"env"}

    
  }
  stages {
    stage ("Echo parameter value"){
      steps {
          echo "The selected value is ${params.myBoolean}"
      } 
         }
      stage ("select the required env"){
         steps {
           echo "The selected value is ${params.env}"
      } 
         }

    stage ("Display hostname"){
      steps {
          sh "hostname"
      } 
         }
    stage ("Clean up") {
      steps {
            deleteDir()
        }
      }
      stage ("Clone Repo"){
        steps{
            sh "git clone https://github.com/jenkins-docs/simple-java-maven-app.git"
        }
      }
      stage ("Build"){
        steps{
            dir ("simple-java-maven-app")
            sh "mvn clean install"
        }
      }
      stage ("Test"){
        steps{
            dir ("simple-java-maven-app")
            sh "mvn test" 
        }
      }
    }
    post {
        success {
          echo "Job successed"
        }
        failure {
          echo "Job failed"
        }
      }
  }
